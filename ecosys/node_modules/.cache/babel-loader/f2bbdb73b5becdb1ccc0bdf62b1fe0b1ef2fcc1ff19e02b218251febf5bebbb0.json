{"ast":null,"code":"import { CRS, DomEvent, TileLayer, Util } from 'leaflet';\nimport { warn, getUrlParams, setEsriAttribution, removeEsriAttribution } from '../Util';\nimport mapService from '../Services/MapService';\nexport var TiledMapLayer = TileLayer.extend({\n  options: {\n    zoomOffsetAllowance: 0.1,\n    errorTileUrl: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=='\n  },\n  statics: {\n    MercatorZoomLevels: {\n      0: 156543.03392799999,\n      1: 78271.516963999893,\n      2: 39135.758482000099,\n      3: 19567.879240999901,\n      4: 9783.9396204999593,\n      5: 4891.9698102499797,\n      6: 2445.9849051249898,\n      7: 1222.9924525624899,\n      8: 611.49622628138002,\n      9: 305.74811314055802,\n      10: 152.874056570411,\n      11: 76.437028285073197,\n      12: 38.218514142536598,\n      13: 19.109257071268299,\n      14: 9.5546285356341496,\n      15: 4.7773142679493699,\n      16: 2.38865713397468,\n      17: 1.1943285668550501,\n      18: 0.59716428355981699,\n      19: 0.29858214164761698,\n      20: 0.14929107082381,\n      21: 0.07464553541191,\n      22: 0.0373227677059525,\n      23: 0.0186613838529763\n    }\n  },\n  initialize: function (options) {\n    options = Util.setOptions(this, options);\n\n    // set the urls\n    options = getUrlParams(options);\n    this.tileUrl = (options.proxy ? options.proxy + '?' : '') + options.url + 'tile/{z}/{y}/{x}' + (options.requestParams && Object.keys(options.requestParams).length > 0 ? Util.getParamString(options.requestParams) : '');\n    // Remove subdomain in url\n    // https://github.com/Esri/esri-leaflet/issues/991\n    if (options.url.indexOf('{s}') !== -1 && options.subdomains) {\n      options.url = options.url.replace('{s}', options.subdomains[0]);\n    }\n    this.service = mapService(options);\n    this.service.addEventParent(this);\n    var arcgisonline = new RegExp(/tiles.arcgis(online)?\\.com/g);\n    if (arcgisonline.test(options.url)) {\n      this.tileUrl = this.tileUrl.replace('://tiles', '://tiles{s}');\n      options.subdomains = ['1', '2', '3', '4'];\n    }\n    if (this.options.token) {\n      this.tileUrl += '?token=' + this.options.token;\n    }\n\n    // init layer by calling TileLayers initialize method\n    TileLayer.prototype.initialize.call(this, this.tileUrl, options);\n  },\n  getTileUrl: function (tilePoint) {\n    var zoom = this._getZoomForUrl();\n    return Util.template(this.tileUrl, Util.extend({\n      s: this._getSubdomain(tilePoint),\n      x: tilePoint.x,\n      y: tilePoint.y,\n      // try lod map first, then just default to zoom level\n      z: this._lodMap && this._lodMap[zoom] !== undefined ? this._lodMap[zoom] : zoom\n    }, this.options));\n  },\n  createTile: function (coords, done) {\n    var tile = document.createElement('img');\n    DomEvent.on(tile, 'load', Util.bind(this._tileOnLoad, this, done, tile));\n    DomEvent.on(tile, 'error', Util.bind(this._tileOnError, this, done, tile));\n    if (this.options.crossOrigin) {\n      tile.crossOrigin = '';\n    }\n\n    /*\r\n     Alt tag is set to empty string to keep screen readers from reading URL and for compliance reasons\r\n     http://www.w3.org/TR/WCAG20-TECHS/H67\r\n    */\n    tile.alt = '';\n\n    // if there is no lod map or an lod map with a proper zoom load the tile\n    // otherwise wait for the lod map to become available\n    if (!this._lodMap || this._lodMap && this._lodMap[this._getZoomForUrl()] !== undefined) {\n      tile.src = this.getTileUrl(coords);\n    } else {\n      this.once('lodmap', function () {\n        tile.src = this.getTileUrl(coords);\n      }, this);\n    }\n    return tile;\n  },\n  onAdd: function (map) {\n    // include 'Powered by Esri' in map attribution\n    setEsriAttribution(map);\n    if (!this._lodMap) {\n      this.metadata(function (error, metadata) {\n        if (!error && metadata.spatialReference) {\n          var sr = metadata.spatialReference.latestWkid || metadata.spatialReference.wkid;\n          // display the copyright text from the service using leaflet's attribution control\n          if (!this.options.attribution && map.attributionControl && metadata.copyrightText) {\n            this.options.attribution = metadata.copyrightText;\n            map.attributionControl.addAttribution(this.getAttribution());\n          }\n\n          // if the service tiles were published in web mercator using conventional LODs but missing levels, we can try and remap them\n          if (map.options.crs === CRS.EPSG3857 && (sr === 102100 || sr === 3857)) {\n            this._lodMap = {};\n            // create the zoom level data\n            var arcgisLODs = metadata.tileInfo.lods;\n            var correctResolutions = TiledMapLayer.MercatorZoomLevels;\n            for (var i = 0; i < arcgisLODs.length; i++) {\n              var arcgisLOD = arcgisLODs[i];\n              for (var ci in correctResolutions) {\n                var correctRes = correctResolutions[ci];\n                if (this._withinPercentage(arcgisLOD.resolution, correctRes, this.options.zoomOffsetAllowance)) {\n                  this._lodMap[ci] = arcgisLOD.level;\n                  break;\n                }\n              }\n            }\n            this.fire('lodmap');\n          } else if (map.options.crs && map.options.crs.code && map.options.crs.code.indexOf(sr) > -1) {\n            // if the projection is WGS84, or the developer is using Proj4 to define a custom CRS, no action is required\n          } else {\n            // if the service was cached in a custom projection and an appropriate LOD hasn't been defined in the map, guide the developer to our Proj4 sample\n            warn('L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet https://developers.arcgis.com/esri-leaflet/samples/non-mercator-projection/');\n          }\n        }\n      }, this);\n    }\n    TileLayer.prototype.onAdd.call(this, map);\n  },\n  onRemove: function (map) {\n    removeEsriAttribution(map);\n    TileLayer.prototype.onRemove.call(this, map);\n  },\n  metadata: function (callback, context) {\n    this.service.metadata(callback, context);\n    return this;\n  },\n  identify: function () {\n    return this.service.identify();\n  },\n  find: function () {\n    return this.service.find();\n  },\n  query: function () {\n    return this.service.query();\n  },\n  authenticate: function (token) {\n    var tokenQs = '?token=' + token;\n    this.tileUrl = this.options.token ? this.tileUrl.replace(/\\?token=(.+)/g, tokenQs) : this.tileUrl + tokenQs;\n    this.options.token = token;\n    this.service.authenticate(token);\n    return this;\n  },\n  _withinPercentage: function (a, b, percentage) {\n    var diff = Math.abs(a / b - 1);\n    return diff < percentage;\n  }\n});\nexport function tiledMapLayer(url, options) {\n  return new TiledMapLayer(url, options);\n}\nexport default tiledMapLayer;","map":{"version":3,"names":["CRS","DomEvent","TileLayer","Util","warn","getUrlParams","setEsriAttribution","removeEsriAttribution","mapService","TiledMapLayer","extend","options","zoomOffsetAllowance","errorTileUrl","statics","MercatorZoomLevels","initialize","setOptions","tileUrl","proxy","url","requestParams","Object","keys","length","getParamString","indexOf","subdomains","replace","service","addEventParent","arcgisonline","RegExp","test","token","prototype","call","getTileUrl","tilePoint","zoom","_getZoomForUrl","template","s","_getSubdomain","x","y","z","_lodMap","undefined","createTile","coords","done","tile","document","createElement","on","bind","_tileOnLoad","_tileOnError","crossOrigin","alt","src","once","onAdd","map","metadata","error","spatialReference","sr","latestWkid","wkid","attribution","attributionControl","copyrightText","addAttribution","getAttribution","crs","EPSG3857","arcgisLODs","tileInfo","lods","correctResolutions","i","arcgisLOD","ci","correctRes","_withinPercentage","resolution","level","fire","code","onRemove","callback","context","identify","find","query","authenticate","tokenQs","a","b","percentage","diff","Math","abs","tiledMapLayer"],"sources":["E:/Working/IP_proj/EcosystemCivi/ecosys/node_modules/esri-leaflet/src/Layers/TiledMapLayer.js"],"sourcesContent":["import { CRS, DomEvent, TileLayer, Util } from 'leaflet';\r\nimport { warn, getUrlParams, setEsriAttribution, removeEsriAttribution } from '../Util';\r\nimport mapService from '../Services/MapService';\r\n\r\nexport var TiledMapLayer = TileLayer.extend({\r\n  options: {\r\n    zoomOffsetAllowance: 0.1,\r\n    errorTileUrl: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=='\r\n  },\r\n\r\n  statics: {\r\n    MercatorZoomLevels: {\r\n      0: 156543.03392799999,\r\n      1: 78271.516963999893,\r\n      2: 39135.758482000099,\r\n      3: 19567.879240999901,\r\n      4: 9783.9396204999593,\r\n      5: 4891.9698102499797,\r\n      6: 2445.9849051249898,\r\n      7: 1222.9924525624899,\r\n      8: 611.49622628138002,\r\n      9: 305.74811314055802,\r\n      10: 152.874056570411,\r\n      11: 76.437028285073197,\r\n      12: 38.218514142536598,\r\n      13: 19.109257071268299,\r\n      14: 9.5546285356341496,\r\n      15: 4.7773142679493699,\r\n      16: 2.38865713397468,\r\n      17: 1.1943285668550501,\r\n      18: 0.59716428355981699,\r\n      19: 0.29858214164761698,\r\n      20: 0.14929107082381,\r\n      21: 0.07464553541191,\r\n      22: 0.0373227677059525,\r\n      23: 0.0186613838529763\r\n    }\r\n  },\r\n\r\n  initialize: function (options) {\r\n    options = Util.setOptions(this, options);\r\n\r\n    // set the urls\r\n    options = getUrlParams(options);\r\n    this.tileUrl = (options.proxy ? options.proxy + '?' : '') + options.url + 'tile/{z}/{y}/{x}' + (options.requestParams && Object.keys(options.requestParams).length > 0 ? Util.getParamString(options.requestParams) : '');\r\n    // Remove subdomain in url\r\n    // https://github.com/Esri/esri-leaflet/issues/991\r\n    if (options.url.indexOf('{s}') !== -1 && options.subdomains) {\r\n      options.url = options.url.replace('{s}', options.subdomains[0]);\r\n    }\r\n    this.service = mapService(options);\r\n    this.service.addEventParent(this);\r\n\r\n    var arcgisonline = new RegExp(/tiles.arcgis(online)?\\.com/g);\r\n    if (arcgisonline.test(options.url)) {\r\n      this.tileUrl = this.tileUrl.replace('://tiles', '://tiles{s}');\r\n      options.subdomains = ['1', '2', '3', '4'];\r\n    }\r\n\r\n    if (this.options.token) {\r\n      this.tileUrl += ('?token=' + this.options.token);\r\n    }\r\n\r\n    // init layer by calling TileLayers initialize method\r\n    TileLayer.prototype.initialize.call(this, this.tileUrl, options);\r\n  },\r\n\r\n  getTileUrl: function (tilePoint) {\r\n    var zoom = this._getZoomForUrl();\r\n\r\n    return Util.template(this.tileUrl, Util.extend({\r\n      s: this._getSubdomain(tilePoint),\r\n      x: tilePoint.x,\r\n      y: tilePoint.y,\r\n      // try lod map first, then just default to zoom level\r\n      z: (this._lodMap && this._lodMap[zoom] !== undefined) ? this._lodMap[zoom] : zoom\r\n    }, this.options));\r\n  },\r\n\r\n  createTile: function (coords, done) {\r\n    var tile = document.createElement('img');\r\n\r\n    DomEvent.on(tile, 'load', Util.bind(this._tileOnLoad, this, done, tile));\r\n    DomEvent.on(tile, 'error', Util.bind(this._tileOnError, this, done, tile));\r\n\r\n    if (this.options.crossOrigin) {\r\n      tile.crossOrigin = '';\r\n    }\r\n\r\n    /*\r\n     Alt tag is set to empty string to keep screen readers from reading URL and for compliance reasons\r\n     http://www.w3.org/TR/WCAG20-TECHS/H67\r\n    */\r\n    tile.alt = '';\r\n\r\n    // if there is no lod map or an lod map with a proper zoom load the tile\r\n    // otherwise wait for the lod map to become available\r\n    if (!this._lodMap || (this._lodMap && this._lodMap[this._getZoomForUrl()] !== undefined)) {\r\n      tile.src = this.getTileUrl(coords);\r\n    } else {\r\n      this.once('lodmap', function () {\r\n        tile.src = this.getTileUrl(coords);\r\n      }, this);\r\n    }\r\n\r\n    return tile;\r\n  },\r\n\r\n  onAdd: function (map) {\r\n    // include 'Powered by Esri' in map attribution\r\n    setEsriAttribution(map);\r\n\r\n    if (!this._lodMap) {\r\n      this.metadata(function (error, metadata) {\r\n        if (!error && metadata.spatialReference) {\r\n          var sr = metadata.spatialReference.latestWkid || metadata.spatialReference.wkid;\r\n          // display the copyright text from the service using leaflet's attribution control\r\n          if (!this.options.attribution && map.attributionControl && metadata.copyrightText) {\r\n            this.options.attribution = metadata.copyrightText;\r\n            map.attributionControl.addAttribution(this.getAttribution());\r\n          }\r\n\r\n          // if the service tiles were published in web mercator using conventional LODs but missing levels, we can try and remap them\r\n          if (map.options.crs === CRS.EPSG3857 && (sr === 102100 || sr === 3857)) {\r\n            this._lodMap = {};\r\n            // create the zoom level data\r\n            var arcgisLODs = metadata.tileInfo.lods;\r\n            var correctResolutions = TiledMapLayer.MercatorZoomLevels;\r\n\r\n            for (var i = 0; i < arcgisLODs.length; i++) {\r\n              var arcgisLOD = arcgisLODs[i];\r\n              for (var ci in correctResolutions) {\r\n                var correctRes = correctResolutions[ci];\r\n\r\n                if (this._withinPercentage(arcgisLOD.resolution, correctRes, this.options.zoomOffsetAllowance)) {\r\n                  this._lodMap[ci] = arcgisLOD.level;\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n\r\n            this.fire('lodmap');\r\n          } else if (map.options.crs && map.options.crs.code && (map.options.crs.code.indexOf(sr) > -1)) {\r\n            // if the projection is WGS84, or the developer is using Proj4 to define a custom CRS, no action is required\r\n          } else {\r\n            // if the service was cached in a custom projection and an appropriate LOD hasn't been defined in the map, guide the developer to our Proj4 sample\r\n            warn('L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet https://developers.arcgis.com/esri-leaflet/samples/non-mercator-projection/');\r\n          }\r\n        }\r\n      }, this);\r\n    }\r\n\r\n    TileLayer.prototype.onAdd.call(this, map);\r\n  },\r\n\r\n  onRemove: function (map) {\r\n    removeEsriAttribution(map);\r\n\r\n    TileLayer.prototype.onRemove.call(this, map);\r\n  },\r\n\r\n  metadata: function (callback, context) {\r\n    this.service.metadata(callback, context);\r\n    return this;\r\n  },\r\n\r\n  identify: function () {\r\n    return this.service.identify();\r\n  },\r\n\r\n  find: function () {\r\n    return this.service.find();\r\n  },\r\n\r\n  query: function () {\r\n    return this.service.query();\r\n  },\r\n\r\n  authenticate: function (token) {\r\n    var tokenQs = '?token=' + token;\r\n    this.tileUrl = (this.options.token) ? this.tileUrl.replace(/\\?token=(.+)/g, tokenQs) : this.tileUrl + tokenQs;\r\n    this.options.token = token;\r\n    this.service.authenticate(token);\r\n    return this;\r\n  },\r\n\r\n  _withinPercentage: function (a, b, percentage) {\r\n    var diff = Math.abs((a / b) - 1);\r\n    return diff < percentage;\r\n  }\r\n});\r\n\r\nexport function tiledMapLayer (url, options) {\r\n  return new TiledMapLayer(url, options);\r\n}\r\n\r\nexport default tiledMapLayer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}