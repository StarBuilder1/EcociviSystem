{"ast":null,"code":"import { Path, Util, GeoJSON, latLng } from 'leaflet';\nimport { FeatureManager } from './FeatureManager';\nimport { warn } from '../../Util';\nexport var FeatureLayer = FeatureManager.extend({\n  options: {\n    cacheLayers: true\n  },\n  /**\r\n   * Constructor\r\n   */\n  initialize: function (options) {\n    if (options.apikey) {\n      options.token = options.apikey;\n    }\n    FeatureManager.prototype.initialize.call(this, options);\n    this._originalStyle = this.options.style;\n    this._layers = {};\n  },\n  /**\r\n   * Layer Interface\r\n   */\n\n  onRemove: function (map) {\n    for (var i in this._layers) {\n      map.removeLayer(this._layers[i]);\n      // trigger the event when the entire featureLayer is removed from the map\n      this.fire('removefeature', {\n        feature: this._layers[i].feature,\n        permanent: false\n      }, true);\n    }\n    return FeatureManager.prototype.onRemove.call(this, map);\n  },\n  createNewLayer: function (geojson) {\n    var layer = GeoJSON.geometryToLayer(geojson, this.options);\n    // trap for GeoJSON without geometry\n    if (layer) {\n      layer.defaultOptions = layer.options;\n    }\n    return layer;\n  },\n  _updateLayer: function (layer, geojson) {\n    // convert the geojson coordinates into a Leaflet LatLng array/nested arrays\n    // pass it to setLatLngs to update layer geometries\n    var latlngs = [];\n    var coordsToLatLng = this.options.coordsToLatLng || GeoJSON.coordsToLatLng;\n\n    // copy new attributes, if present\n    if (geojson.properties) {\n      layer.feature.properties = geojson.properties;\n    }\n    switch (geojson.geometry.type) {\n      case 'Point':\n        latlngs = GeoJSON.coordsToLatLng(geojson.geometry.coordinates);\n        layer.setLatLng(latlngs);\n        break;\n      case 'LineString':\n        latlngs = GeoJSON.coordsToLatLngs(geojson.geometry.coordinates, 0, coordsToLatLng);\n        layer.setLatLngs(latlngs);\n        break;\n      case 'MultiLineString':\n        latlngs = GeoJSON.coordsToLatLngs(geojson.geometry.coordinates, 1, coordsToLatLng);\n        layer.setLatLngs(latlngs);\n        break;\n      case 'Polygon':\n        latlngs = GeoJSON.coordsToLatLngs(geojson.geometry.coordinates, 1, coordsToLatLng);\n        layer.setLatLngs(latlngs);\n        break;\n      case 'MultiPolygon':\n        latlngs = GeoJSON.coordsToLatLngs(geojson.geometry.coordinates, 2, coordsToLatLng);\n        layer.setLatLngs(latlngs);\n        break;\n    }\n\n    // update symbol/style\n    this.redraw(layer.feature.id);\n  },\n  /**\r\n   * Feature Management Methods\r\n   */\n\n  createLayers: function (features) {\n    for (var i = features.length - 1; i >= 0; i--) {\n      var geojson = features[i];\n      var layer = this._layers[geojson.id];\n      var newLayer;\n      if (this._visibleZoom() && layer && !this._map.hasLayer(layer) && (!this.options.timeField || this._featureWithinTimeRange(geojson))) {\n        this._map.addLayer(layer);\n        this.fire('addfeature', {\n          feature: layer.feature\n        }, true);\n      }\n\n      // update geometry if the layer already existed.\n      if (layer && (layer.setLatLngs || layer.setLatLng)) {\n        this._updateLayer(layer, geojson);\n      }\n      if (!layer) {\n        newLayer = this.createNewLayer(geojson);\n        if (!newLayer) {\n          warn('invalid GeoJSON encountered');\n        } else {\n          newLayer.feature = geojson;\n\n          // bubble events from individual layers to the feature layer\n          newLayer.addEventParent(this);\n          if (this.options.onEachFeature) {\n            this.options.onEachFeature(newLayer.feature, newLayer);\n          }\n\n          // cache the layer\n          this._layers[newLayer.feature.id] = newLayer;\n\n          // style the layer\n          this.setFeatureStyle(newLayer.feature.id, this.options.style);\n          this.fire('createfeature', {\n            feature: newLayer.feature\n          }, true);\n\n          // add the layer if the current zoom level is inside the range defined for the layer, it is within the current time bounds or our layer is not time enabled\n          if (this._visibleZoom() && (!this.options.timeField || this.options.timeField && this._featureWithinTimeRange(geojson))) {\n            this._map.addLayer(newLayer);\n          }\n        }\n      }\n    }\n  },\n  addLayers: function (ids) {\n    for (var i = ids.length - 1; i >= 0; i--) {\n      var layer = this._layers[ids[i]];\n      if (layer && (!this.options.timeField || this._featureWithinTimeRange(layer.feature))) {\n        this._map.addLayer(layer);\n        this.fire('addfeature', {\n          feature: layer.feature\n        }, true);\n      }\n    }\n  },\n  removeLayers: function (ids, permanent) {\n    for (var i = ids.length - 1; i >= 0; i--) {\n      var id = ids[i];\n      var layer = this._layers[id];\n      if (layer) {\n        this.fire('removefeature', {\n          feature: layer.feature,\n          permanent: permanent\n        }, true);\n        this._map.removeLayer(layer);\n      }\n      if (layer && permanent) {\n        delete this._layers[id];\n      }\n    }\n  },\n  cellEnter: function (bounds, coords) {\n    if (this._visibleZoom() && !this._zooming && this._map) {\n      Util.requestAnimFrame(Util.bind(function () {\n        var cacheKey = this._cacheKey(coords);\n        var cellKey = this._cellCoordsToKey(coords);\n        var layers = this._cache[cacheKey];\n        if (this._activeCells[cellKey] && layers) {\n          this.addLayers(layers);\n        }\n      }, this));\n    }\n  },\n  cellLeave: function (bounds, coords) {\n    if (!this._zooming) {\n      Util.requestAnimFrame(Util.bind(function () {\n        if (this._map) {\n          var cacheKey = this._cacheKey(coords);\n          var cellKey = this._cellCoordsToKey(coords);\n          var layers = this._cache[cacheKey];\n          var mapBounds = this._map.getBounds();\n          if (!this._activeCells[cellKey] && layers) {\n            var removable = true;\n            for (var i = 0; i < layers.length; i++) {\n              var layer = this._layers[layers[i]];\n              if (layer && layer.getBounds && mapBounds.intersects(layer.getBounds())) {\n                removable = false;\n              }\n            }\n            if (removable) {\n              this.removeLayers(layers, !this.options.cacheLayers);\n            }\n            if (!this.options.cacheLayers && removable) {\n              delete this._cache[cacheKey];\n              delete this._cells[cellKey];\n              delete this._activeCells[cellKey];\n            }\n          }\n        }\n      }, this));\n    }\n  },\n  /**\r\n   * Styling Methods\r\n   */\n\n  resetStyle: function () {\n    this.options.style = this._originalStyle;\n    this.eachFeature(function (layer) {\n      this.resetFeatureStyle(layer.feature.id);\n    }, this);\n    return this;\n  },\n  setStyle: function (style) {\n    this.options.style = style;\n    this.eachFeature(function (layer) {\n      this.setFeatureStyle(layer.feature.id, style);\n    }, this);\n    return this;\n  },\n  resetFeatureStyle: function (id) {\n    var layer = this._layers[id];\n    var style = this._originalStyle || Path.prototype.options;\n    if (layer) {\n      Util.extend(layer.options, layer.defaultOptions);\n      this.setFeatureStyle(id, style);\n    }\n    return this;\n  },\n  setFeatureStyle: function (id, style) {\n    var layer = this._layers[id];\n    if (typeof style === 'function') {\n      style = style(layer.feature);\n    }\n    if (layer.setStyle) {\n      layer.setStyle(style);\n    }\n    return this;\n  },\n  /**\r\n   * Utility Methods\r\n   */\n\n  eachActiveFeature: function (fn, context) {\n    // figure out (roughly) which layers are in view\n    if (this._map) {\n      var activeBounds = this._map.getBounds();\n      for (var i in this._layers) {\n        if (this._currentSnapshot.indexOf(this._layers[i].feature.id) !== -1) {\n          // a simple point in poly test for point geometries\n          if (typeof this._layers[i].getLatLng === 'function' && activeBounds.contains(this._layers[i].getLatLng())) {\n            fn.call(context, this._layers[i]);\n          } else if (typeof this._layers[i].getBounds === 'function' && activeBounds.intersects(this._layers[i].getBounds())) {\n            // intersecting bounds check for polyline and polygon geometries\n            fn.call(context, this._layers[i]);\n          }\n        }\n      }\n    }\n    return this;\n  },\n  eachFeature: function (fn, context) {\n    for (var i in this._layers) {\n      fn.call(context, this._layers[i]);\n    }\n    return this;\n  },\n  getFeature: function (id) {\n    return this._layers[id];\n  },\n  bringToBack: function () {\n    this.eachFeature(function (layer) {\n      if (layer.bringToBack) {\n        layer.bringToBack();\n      }\n    });\n  },\n  bringToFront: function () {\n    this.eachFeature(function (layer) {\n      if (layer.bringToFront) {\n        layer.bringToFront();\n      }\n    });\n  },\n  redraw: function (id) {\n    if (id) {\n      this._redraw(id);\n    }\n    return this;\n  },\n  _redraw: function (id) {\n    var layer = this._layers[id];\n    var geojson = layer.feature;\n\n    // if this looks like a marker\n    if (layer && layer.setIcon && this.options.pointToLayer) {\n      // update custom symbology, if necessary\n      if (this.options.pointToLayer) {\n        var getIcon = this.options.pointToLayer(geojson, latLng(geojson.geometry.coordinates[1], geojson.geometry.coordinates[0]));\n        var updatedIcon = getIcon.options.icon;\n        layer.setIcon(updatedIcon);\n      }\n    }\n\n    // looks like a vector marker (circleMarker)\n    if (layer && layer.setStyle && this.options.pointToLayer) {\n      var getStyle = this.options.pointToLayer(geojson, latLng(geojson.geometry.coordinates[1], geojson.geometry.coordinates[0]));\n      var updatedStyle = getStyle.options;\n      this.setFeatureStyle(geojson.id, updatedStyle);\n    }\n\n    // looks like a path (polygon/polyline)\n    if (layer && layer.setStyle && this.options.style) {\n      this.resetFeatureStyle(geojson.id);\n    }\n  },\n  // This is the same as the Layer.openPopup method except it excludes the `FeatureGroup`\n  // logic to work around https://github.com/Leaflet/Leaflet/issues/8761\n  openPopup(latlng) {\n    if (this._popup) {\n      if (this._popup._prepareOpen(latlng || this._latlng)) {\n        // open the popup on the map\n        this._popup.openOn(this._map);\n      }\n    }\n    return this;\n  },\n  // This is the same as the `Layer.openTooltip` method except it excludes the `FeatureGroup`\n  // logic to work around https://github.com/Leaflet/Leaflet/issues/8761\n  openTooltip(latlng) {\n    if (this._tooltip) {\n      if (this._tooltip._prepareOpen(latlng)) {\n        // open the tooltip on the map\n        this._tooltip.openOn(this._map);\n        if (this.getElement) {\n          this._setAriaDescribedByOnLayer(this);\n        } else if (this.eachLayer) {\n          this.eachLayer(this._setAriaDescribedByOnLayer, this);\n        }\n      }\n    }\n    return this;\n  }\n});\nexport function featureLayer(options) {\n  return new FeatureLayer(options);\n}\nexport default featureLayer;","map":{"version":3,"names":["Path","Util","GeoJSON","latLng","FeatureManager","warn","FeatureLayer","extend","options","cacheLayers","initialize","apikey","token","prototype","call","_originalStyle","style","_layers","onRemove","map","i","removeLayer","fire","feature","permanent","createNewLayer","geojson","layer","geometryToLayer","defaultOptions","_updateLayer","latlngs","coordsToLatLng","properties","geometry","type","coordinates","setLatLng","coordsToLatLngs","setLatLngs","redraw","id","createLayers","features","length","newLayer","_visibleZoom","_map","hasLayer","timeField","_featureWithinTimeRange","addLayer","addEventParent","onEachFeature","setFeatureStyle","addLayers","ids","removeLayers","cellEnter","bounds","coords","_zooming","requestAnimFrame","bind","cacheKey","_cacheKey","cellKey","_cellCoordsToKey","layers","_cache","_activeCells","cellLeave","mapBounds","getBounds","removable","intersects","_cells","resetStyle","eachFeature","resetFeatureStyle","setStyle","eachActiveFeature","fn","context","activeBounds","_currentSnapshot","indexOf","getLatLng","contains","getFeature","bringToBack","bringToFront","_redraw","setIcon","pointToLayer","getIcon","updatedIcon","icon","getStyle","updatedStyle","openPopup","latlng","_popup","_prepareOpen","_latlng","openOn","openTooltip","_tooltip","getElement","_setAriaDescribedByOnLayer","eachLayer","featureLayer"],"sources":["E:/Working/IP_proj/EcosystemCivi/ecosys/node_modules/esri-leaflet/src/Layers/FeatureLayer/FeatureLayer.js"],"sourcesContent":["import { Path, Util, GeoJSON, latLng } from 'leaflet';\r\nimport { FeatureManager } from './FeatureManager';\r\nimport { warn } from '../../Util';\r\n\r\nexport var FeatureLayer = FeatureManager.extend({\r\n  options: {\r\n    cacheLayers: true\r\n  },\r\n\r\n  /**\r\n   * Constructor\r\n   */\r\n  initialize: function (options) {\r\n    if (options.apikey) {\r\n      options.token = options.apikey;\r\n    }\r\n    FeatureManager.prototype.initialize.call(this, options);\r\n    this._originalStyle = this.options.style;\r\n    this._layers = {};\r\n  },\r\n\r\n  /**\r\n   * Layer Interface\r\n   */\r\n\r\n  onRemove: function (map) {\r\n    for (var i in this._layers) {\r\n      map.removeLayer(this._layers[i]);\r\n      // trigger the event when the entire featureLayer is removed from the map\r\n      this.fire(\r\n        'removefeature',\r\n        {\r\n          feature: this._layers[i].feature,\r\n          permanent: false\r\n        },\r\n        true\r\n      );\r\n    }\r\n\r\n    return FeatureManager.prototype.onRemove.call(this, map);\r\n  },\r\n\r\n  createNewLayer: function (geojson) {\r\n    var layer = GeoJSON.geometryToLayer(geojson, this.options);\r\n    // trap for GeoJSON without geometry\r\n    if (layer) {\r\n      layer.defaultOptions = layer.options;\r\n    }\r\n    return layer;\r\n  },\r\n\r\n  _updateLayer: function (layer, geojson) {\r\n    // convert the geojson coordinates into a Leaflet LatLng array/nested arrays\r\n    // pass it to setLatLngs to update layer geometries\r\n    var latlngs = [];\r\n    var coordsToLatLng = this.options.coordsToLatLng || GeoJSON.coordsToLatLng;\r\n\r\n    // copy new attributes, if present\r\n    if (geojson.properties) {\r\n      layer.feature.properties = geojson.properties;\r\n    }\r\n\r\n    switch (geojson.geometry.type) {\r\n      case 'Point':\r\n        latlngs = GeoJSON.coordsToLatLng(geojson.geometry.coordinates);\r\n        layer.setLatLng(latlngs);\r\n        break;\r\n      case 'LineString':\r\n        latlngs = GeoJSON.coordsToLatLngs(\r\n          geojson.geometry.coordinates,\r\n          0,\r\n          coordsToLatLng\r\n        );\r\n        layer.setLatLngs(latlngs);\r\n        break;\r\n      case 'MultiLineString':\r\n        latlngs = GeoJSON.coordsToLatLngs(\r\n          geojson.geometry.coordinates,\r\n          1,\r\n          coordsToLatLng\r\n        );\r\n        layer.setLatLngs(latlngs);\r\n        break;\r\n      case 'Polygon':\r\n        latlngs = GeoJSON.coordsToLatLngs(\r\n          geojson.geometry.coordinates,\r\n          1,\r\n          coordsToLatLng\r\n        );\r\n        layer.setLatLngs(latlngs);\r\n        break;\r\n      case 'MultiPolygon':\r\n        latlngs = GeoJSON.coordsToLatLngs(\r\n          geojson.geometry.coordinates,\r\n          2,\r\n          coordsToLatLng\r\n        );\r\n        layer.setLatLngs(latlngs);\r\n        break;\r\n    }\r\n\r\n    // update symbol/style\r\n    this.redraw(layer.feature.id);\r\n  },\r\n\r\n  /**\r\n   * Feature Management Methods\r\n   */\r\n\r\n  createLayers: function (features) {\r\n    for (var i = features.length - 1; i >= 0; i--) {\r\n      var geojson = features[i];\r\n\r\n      var layer = this._layers[geojson.id];\r\n      var newLayer;\r\n\r\n      if (\r\n        this._visibleZoom() &&\r\n        layer &&\r\n        !this._map.hasLayer(layer) &&\r\n        (!this.options.timeField || this._featureWithinTimeRange(geojson))\r\n      ) {\r\n        this._map.addLayer(layer);\r\n        this.fire(\r\n          'addfeature',\r\n          {\r\n            feature: layer.feature\r\n          },\r\n          true\r\n        );\r\n      }\r\n\r\n      // update geometry if the layer already existed.\r\n      if (layer && (layer.setLatLngs || layer.setLatLng)) {\r\n        this._updateLayer(layer, geojson);\r\n      }\r\n\r\n      if (!layer) {\r\n        newLayer = this.createNewLayer(geojson);\r\n\r\n        if (!newLayer) {\r\n          warn('invalid GeoJSON encountered');\r\n        } else {\r\n          newLayer.feature = geojson;\r\n\r\n          // bubble events from individual layers to the feature layer\r\n          newLayer.addEventParent(this);\r\n\r\n          if (this.options.onEachFeature) {\r\n            this.options.onEachFeature(newLayer.feature, newLayer);\r\n          }\r\n\r\n          // cache the layer\r\n          this._layers[newLayer.feature.id] = newLayer;\r\n\r\n          // style the layer\r\n          this.setFeatureStyle(newLayer.feature.id, this.options.style);\r\n\r\n          this.fire(\r\n            'createfeature',\r\n            {\r\n              feature: newLayer.feature\r\n            },\r\n            true\r\n          );\r\n\r\n          // add the layer if the current zoom level is inside the range defined for the layer, it is within the current time bounds or our layer is not time enabled\r\n          if (\r\n            this._visibleZoom() &&\r\n            (!this.options.timeField ||\r\n              (this.options.timeField && this._featureWithinTimeRange(geojson)))\r\n          ) {\r\n            this._map.addLayer(newLayer);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  addLayers: function (ids) {\r\n    for (var i = ids.length - 1; i >= 0; i--) {\r\n      var layer = this._layers[ids[i]];\r\n      if (\r\n        layer &&\r\n        (!this.options.timeField || this._featureWithinTimeRange(layer.feature))\r\n      ) {\r\n        this._map.addLayer(layer);\r\n        this.fire(\r\n          'addfeature',\r\n          {\r\n            feature: layer.feature\r\n          },\r\n          true\r\n        );\r\n      }\r\n    }\r\n  },\r\n\r\n  removeLayers: function (ids, permanent) {\r\n    for (var i = ids.length - 1; i >= 0; i--) {\r\n      var id = ids[i];\r\n      var layer = this._layers[id];\r\n      if (layer) {\r\n        this.fire(\r\n          'removefeature',\r\n          {\r\n            feature: layer.feature,\r\n            permanent: permanent\r\n          },\r\n          true\r\n        );\r\n        this._map.removeLayer(layer);\r\n      }\r\n      if (layer && permanent) {\r\n        delete this._layers[id];\r\n      }\r\n    }\r\n  },\r\n\r\n  cellEnter: function (bounds, coords) {\r\n    if (this._visibleZoom() && !this._zooming && this._map) {\r\n      Util.requestAnimFrame(\r\n        Util.bind(function () {\r\n          var cacheKey = this._cacheKey(coords);\r\n          var cellKey = this._cellCoordsToKey(coords);\r\n          var layers = this._cache[cacheKey];\r\n          if (this._activeCells[cellKey] && layers) {\r\n            this.addLayers(layers);\r\n          }\r\n        }, this)\r\n      );\r\n    }\r\n  },\r\n\r\n  cellLeave: function (bounds, coords) {\r\n    if (!this._zooming) {\r\n      Util.requestAnimFrame(\r\n        Util.bind(function () {\r\n          if (this._map) {\r\n            var cacheKey = this._cacheKey(coords);\r\n            var cellKey = this._cellCoordsToKey(coords);\r\n            var layers = this._cache[cacheKey];\r\n            var mapBounds = this._map.getBounds();\r\n            if (!this._activeCells[cellKey] && layers) {\r\n              var removable = true;\r\n\r\n              for (var i = 0; i < layers.length; i++) {\r\n                var layer = this._layers[layers[i]];\r\n                if (\r\n                  layer &&\r\n                  layer.getBounds &&\r\n                  mapBounds.intersects(layer.getBounds())\r\n                ) {\r\n                  removable = false;\r\n                }\r\n              }\r\n\r\n              if (removable) {\r\n                this.removeLayers(layers, !this.options.cacheLayers);\r\n              }\r\n\r\n              if (!this.options.cacheLayers && removable) {\r\n                delete this._cache[cacheKey];\r\n                delete this._cells[cellKey];\r\n                delete this._activeCells[cellKey];\r\n              }\r\n            }\r\n          }\r\n        }, this)\r\n      );\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Styling Methods\r\n   */\r\n\r\n  resetStyle: function () {\r\n    this.options.style = this._originalStyle;\r\n    this.eachFeature(function (layer) {\r\n      this.resetFeatureStyle(layer.feature.id);\r\n    }, this);\r\n    return this;\r\n  },\r\n\r\n  setStyle: function (style) {\r\n    this.options.style = style;\r\n    this.eachFeature(function (layer) {\r\n      this.setFeatureStyle(layer.feature.id, style);\r\n    }, this);\r\n    return this;\r\n  },\r\n\r\n  resetFeatureStyle: function (id) {\r\n    var layer = this._layers[id];\r\n    var style = this._originalStyle || Path.prototype.options;\r\n    if (layer) {\r\n      Util.extend(layer.options, layer.defaultOptions);\r\n      this.setFeatureStyle(id, style);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  setFeatureStyle: function (id, style) {\r\n    var layer = this._layers[id];\r\n    if (typeof style === 'function') {\r\n      style = style(layer.feature);\r\n    }\r\n    if (layer.setStyle) {\r\n      layer.setStyle(style);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Utility Methods\r\n   */\r\n\r\n  eachActiveFeature: function (fn, context) {\r\n    // figure out (roughly) which layers are in view\r\n    if (this._map) {\r\n      var activeBounds = this._map.getBounds();\r\n      for (var i in this._layers) {\r\n        if (this._currentSnapshot.indexOf(this._layers[i].feature.id) !== -1) {\r\n          // a simple point in poly test for point geometries\r\n          if (\r\n            typeof this._layers[i].getLatLng === 'function' &&\r\n            activeBounds.contains(this._layers[i].getLatLng())\r\n          ) {\r\n            fn.call(context, this._layers[i]);\r\n          } else if (\r\n            typeof this._layers[i].getBounds === 'function' &&\r\n            activeBounds.intersects(this._layers[i].getBounds())\r\n          ) {\r\n            // intersecting bounds check for polyline and polygon geometries\r\n            fn.call(context, this._layers[i]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return this;\r\n  },\r\n\r\n  eachFeature: function (fn, context) {\r\n    for (var i in this._layers) {\r\n      fn.call(context, this._layers[i]);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  getFeature: function (id) {\r\n    return this._layers[id];\r\n  },\r\n\r\n  bringToBack: function () {\r\n    this.eachFeature(function (layer) {\r\n      if (layer.bringToBack) {\r\n        layer.bringToBack();\r\n      }\r\n    });\r\n  },\r\n\r\n  bringToFront: function () {\r\n    this.eachFeature(function (layer) {\r\n      if (layer.bringToFront) {\r\n        layer.bringToFront();\r\n      }\r\n    });\r\n  },\r\n\r\n  redraw: function (id) {\r\n    if (id) {\r\n      this._redraw(id);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  _redraw: function (id) {\r\n    var layer = this._layers[id];\r\n    var geojson = layer.feature;\r\n\r\n    // if this looks like a marker\r\n    if (layer && layer.setIcon && this.options.pointToLayer) {\r\n      // update custom symbology, if necessary\r\n      if (this.options.pointToLayer) {\r\n        var getIcon = this.options.pointToLayer(\r\n          geojson,\r\n          latLng(\r\n            geojson.geometry.coordinates[1],\r\n            geojson.geometry.coordinates[0]\r\n          )\r\n        );\r\n        var updatedIcon = getIcon.options.icon;\r\n        layer.setIcon(updatedIcon);\r\n      }\r\n    }\r\n\r\n    // looks like a vector marker (circleMarker)\r\n    if (layer && layer.setStyle && this.options.pointToLayer) {\r\n      var getStyle = this.options.pointToLayer(\r\n        geojson,\r\n        latLng(geojson.geometry.coordinates[1], geojson.geometry.coordinates[0])\r\n      );\r\n      var updatedStyle = getStyle.options;\r\n      this.setFeatureStyle(geojson.id, updatedStyle);\r\n    }\r\n\r\n    // looks like a path (polygon/polyline)\r\n    if (layer && layer.setStyle && this.options.style) {\r\n      this.resetFeatureStyle(geojson.id);\r\n    }\r\n  },\r\n\r\n  // This is the same as the Layer.openPopup method except it excludes the `FeatureGroup`\r\n  // logic to work around https://github.com/Leaflet/Leaflet/issues/8761\r\n  openPopup (latlng) {\r\n    if (this._popup) {\r\n      if (this._popup._prepareOpen(latlng || this._latlng)) {\r\n        // open the popup on the map\r\n        this._popup.openOn(this._map);\r\n      }\r\n    }\r\n    return this;\r\n  },\r\n\r\n  // This is the same as the `Layer.openTooltip` method except it excludes the `FeatureGroup`\r\n  // logic to work around https://github.com/Leaflet/Leaflet/issues/8761\r\n  openTooltip (latlng) {\r\n    if (this._tooltip) {\r\n      if (this._tooltip._prepareOpen(latlng)) {\r\n        // open the tooltip on the map\r\n        this._tooltip.openOn(this._map);\r\n\r\n        if (this.getElement) {\r\n          this._setAriaDescribedByOnLayer(this);\r\n        } else if (this.eachLayer) {\r\n          this.eachLayer(this._setAriaDescribedByOnLayer, this);\r\n        }\r\n      }\r\n    }\r\n    return this;\r\n  }\r\n});\r\n\r\nexport function featureLayer (options) {\r\n  return new FeatureLayer(options);\r\n}\r\n\r\nexport default featureLayer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}